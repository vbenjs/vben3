name: Fighting Design Github Actions

# å½“ master åˆ†æ”¯ push ä»£ç çš„æ—¶å€™è§¦å‘ workflow
on:
  push:
    branches:
      - master

jobs:
  build-deploy:
    runs-on: ubuntu-latest

    steps:
      # ä¸‹è½½ä»“åº“ä»£ç  / æ ¡éªŒ
      - name: Checkout
        # actions/checkout@v3 æ˜¯ github å®˜æ–¹çš„ä¸€ä¸ªactionï¼Œç”¨äº clone è¯¥ä»“åº“çš„æºç åˆ°å·¥ä½œæµä¸­
        uses: actions/checkout@v3

      # å®‰è£… pnpm
      - name: Setup pnpm
        uses: pnpm/action-setup@v2
        with:
          version: 7

      # å®‰è£… node
      - name: Setup node
        uses: actions/setup-node@v3
        with:
          node-version: '16.x'
          cache: 'pnpm'

      # å®‰è£…ä¾èµ–é¡¹
      - name: Install
        run: pnpm i

      # æ‰“åŒ…ç»„ä»¶
      - name: Build Docs
        run: pnpm build

      - name: ğŸ“‚ Sync files
        uses: SamKirkland/FTP-Deploy-Action@4.3.3
        with:
          server: 114.115.157.254
          username: vben
          password: ${{ secrets.ftp_password }}
          local-dir: ./apps/admin/dist/
          dangerous-clean-slate: true
